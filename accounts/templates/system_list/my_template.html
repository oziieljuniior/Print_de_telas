{% extends 'base.html' %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<table>
    <thread>
        <tr>
            <th> ID </th>
            <th> Odd </th>
            <th> Hora da Odd </th>
            <th> Apostadores </th>
        </tr>
    </thread>
    <tbody>
        {% for row in my_table_data %}
            <tr>
                <td> {{ row.id }} </td>
                <td> {{ row.od }} </td>
                <td> {{ row.hora_criacao }} </td>
                <td> {{ row.apostadores }} </td>
            </tr>
        {% endfor %}
    </tbody>
</table>

<script>
    $(document).ready(function() {
        setInterval(function() {
            $.ajax({
                url: "{% url 'System_Post:my_url' %}",
                type: "GET",
                dataType: "html",
                success: function(data){
                    $("#my-table").html(data);
                }
            });
        }, 3000);
    });
        
</script>
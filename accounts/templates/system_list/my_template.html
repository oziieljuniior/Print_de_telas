{% extends 'base.html' %}
{% load static %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

{% block content %}
    <h1> Tabela Principal </h1>
    <table id="my-table">
        <thread>
            <tr>
                <th> ID </th>
                <th> Odd </th>
                <th> Hora da Odd </th>
                <th> Apostadores </th>
            </tr>
        </thread>
        <tbody>
            {% for row in data %}
                <tr>
                    <td class-"my-cell"> {{ row.0 }} </td>
                    <td class-"my-cell"> {{ row.1 }} </td>
                    <td class-"my-cell"> {{ row.2 }} </td>
                    <td class-"my-cell"> {{ row.3 }} </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock content %}
<script>
    $(document).ready(function() {
        setInterval(function() {
            $.ajax({
                url: "{% url 'System_Post:my_url' %}",
                type: "GET",
                dataType: "html",
                success: function(data){
                    $("#my-table").html(data);
                }
            });
        }, 3000);
    });
        
</script>
